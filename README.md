# Планировщик для Yandex такси
Система представляет собой приложение, которое с помощью API получает информацию о цене поездки для определенного маршрута. 

# Основные компоненты подсистемы

- ### YandexScheduler
В данном компоненте каждые 30 секунд вызывается метод для обновления цены.

- ### TaxiService
Предоставляет функциональность для получения и сохранения информации о цене поездки.
С помощью MeterRegistry в конструкторе создается метрика priceTaxi, связанная с переменной price, которая представляет текущую цену поездки.

- ### TaxiApiClient
Компонент, который предоставляет клиентский интерфейс для взаимодействия с API.  
С помощью аннотации '@Timed' из библиотеки micrometer измеряется временя выполнения метода 'getPrice()'.
Это позваоляет собирать информацию о производительности запросов к API.

- ### PriceRepository
Репозиторий, используется для взаимодействия с БД.
Аналогично TaxiApiClient, который использует аннотацию @Timed, PriceRepository вносит ту же функциональность мониторинга производительности, позволяя измерять время выполнения операции извлечения всех цен из БД.


# Prometheus + Grafana
В файле application.yaml добавили нужные строки для prometheus



# Инструкция для запуска 
mvc clean package  
docker build -t taxi-service:latest .  
docker compose up